<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Submit&#x20;Address&#x20;-&#x20;Hookah&#x20;wholesaler</title>
	<link href="css/form.css" rel="stylesheet" type="text/css">
	<script src="js/validation.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/google-libphonenumber/3.2.13/libphonenumber.min.js"></script>

	<style>
		.state-dropdown,
		.state-text,
		.city-text,
		.zip-text {
			display: none;
		}
	</style>
</head>

<body class="zf-backgroundBg">
	<!-- Change or deletion of the name attributes in the input tag will lead to empty values on record submission-->
	<div class="zf-templateWidth">
		<form
			action='https://forms.zohopublic.com/airglobal/form/RequestNewAddressSandbox1/formperma/k2Dz0f-2Y9WqZCynRBZi9XNWLHacfoJou5baNiAJji0/htmlRecords/submit'
			name='form' method='POST' onSubmit='javascript:document.charset="UTF-8"; return zf_ValidateAndSubmit();'
			accept-charset='UTF-8' enctype='multipart/form-data' id='form'><input type="hidden" name="zf_referrer_name"
				value=""><!-- To Track referrals , place the referrer name within the " " in the above hidden input field -->
			<input type="hidden" name="zf_redirect_url"
				value=""><!-- To redirect to a specific page after record submission , place the respective url within the " " in the above hidden input field -->
			<input type="hidden" name="zc_gad"
				value=""><!-- If GCLID is enabled in Zoho CRM Integration, click details of AdWords Ads will be pushed to Zoho CRM -->
			<div class="zf-templateWrapper"><!---------template Header Starts Here---------->
				<ul class="zf-tempHeadBdr">
					<li class="zf-tempHeadContBdr">
						<h2 class="zf-frmTitle"><em>New Address</em></h2>
						<p class="zf-frmDesc"></p>
						<div class="zf-clearBoth"></div>
					</li>
					<ul id="progressbar">
						<li class="active" id="personal">
							<strong>New Address</strong>
						</li>
					</ul>
				</ul><!---------template Header Ends Here---------->
				<!---------template Container Starts Here---------->
				<div class="zf-subContWrap zf-topAlign">
					<ul>
						<!---------Email Starts Here---------->
						<li class="zf-tempFrmWrapper zf-small">
							<label class="zf-labelName">
								Email
								<em class="zf-important">*</em>
							</label>
							<div class="zf-tempContDiv">
								<span id="loaderContainer"> <input fieldType=9 type="text" maxlength="255" name="Email"
										checktype="c5" value="" placeholder="" id="Email" />
									<div id="loader"></div>
								</span>
								<p id="Email_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
							</div>
							<div class="zf-clearBoth"></div>
						</li><!---------Email Ends Here---------->

						<!---------Dropdown Starts Here---------->
						<!-- <li class="zf-tempFrmWrapper zf-large">
							<label class="zf-labelName">
								Type
							</label>
							<div class="zf-tempContDiv">
								<select class="zf-form-sBox" name="Dropdown" checktype="c1">
									<option selected="true" value="-Select-">-Select-</option>
									<option value="Staging">Staging</option>
									<option value="Production">Production</option>
								</select>
								<p id="Dropdown_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
							</div>
							<div class="zf-clearBoth"></div>
						</li>-------Dropdown Ends Here-------- -->
						<!--address-->

						<!---------Phone Starts Here---------->
						<li class="zf-tempFrmWrapper zf-large">
							<label class="zf-labelName">Phone</label>
							<div class="zf-tempContDiv">
								<span class="zf-addOne">
									<input type="text" compname="PhoneNumber" name="PhoneNumber_countrycode"
										maxlength="20" checktype="c7" value="" phoneFormat="1"
										isCountryCodeEnabled=false fieldType="11"
										id="international_PhoneNumber_countrycode" valType="number" phoneFormatType="1"
										placeholder="" oninput="this.value = this.value.replace(/[^0-9]/g, '')" />
								</span>
								<p id="PhoneNumber_error" class="zf-errorMessage" style="display:none;">Invalid value
								</p>
							</div>
							<div class="zf-clearBoth"></div>
						</li><!---------Phone Ends Here---------->

						<!---------Address Starts Here---------->
						<li class="zf-tempFrmWrapper zf-address zf-addrlarge ">
							<div class="zf-tempContDiv zf-address">
								<div class="zf-addrCont">
									<div class="name-item-2">
										<span class="zf-flLeft zf-addtwo">
											<label>Country
												<em class="zf-important">*</em>
											</label>
											<select class="zf-form-sBox dropdown-countries" name="Address_Country"
												checktype="c1">
												<option value="" selected="selected" disabled>Select Country</option>
												<option value="ALA">Åland Islands</option>
												<option value="ASM">American Samoa</option>
												<option value="AND">Andorra</option>
												<option value="AIA">Anguilla</option>
												<option value="ARG">Argentina</option>
												<option value="ARM">Armenia</option>
												<option value="ABW">Aruba</option>
												<option value="AUT">Austria</option>
												<option value="BHS">Bahamas</option>
												<option value="BHR">Bahrain</option>
												<option value="BGD">Bangladesh</option>
												<option value="BRB">Barbados</option>
												<option value="BEL">Belgium</option>
												<option value="BLZ">Belize</option>
												<option value="BMU">Bermuda</option>
												<option value="BOL">Bolivia</option>
												<option value="BIH">Bosnia & Herzegovina</option>
												<option value="BRA">Brazil</option>
												<option value="IOT">British Indian Ocean Territory</option>
												<option value="VGB">British Virgin Islands</option>
												<option value="BGR">Bulgaria</option>
												<option value="KHM">Cambodia</option>
												<option value="CAN">Canada</option>
												<option value="BES">Caribbean Netherlands</option>
												<option value="CYM">Cayman Islands</option>
												<option value="CHL">Chile</option>
												<option value="CHN">China</option>
												<option value="CXR">Christmas Island</option>
												<option value="CCK">Cocos (Keeling) Islands</option>
												<option value="COL">Colombia</option>
												<option value="COK">Cook Islands</option>
												<option value="CRI">Costa Rica</option>
												<option value="HRV">Croatia</option>
												<option value="CUW">Curaçao</option>
												<option value="CYP">Cyprus</option>
												<option value="CZE">Czechia</option>
												<option value="DNK">Denmark</option>
												<option value="DMA">Dominica</option>
												<option value="DOM">Dominican Republic</option>
												<option value="ECU">Ecuador</option>
												<option value="SLV">El Salvador</option>
												<option value="EST">Estonia</option>
												<option value="FLK">Falkland Islands</option>
												<option value="FRO">Faroe Islands</option>
												<option value="FJI">Fiji</option>
												<option value="FIN">Finland</option>
												<option value="GEO">Georgia</option>
												<option value="DEU">Germany</option>
												<option value="GIB">Gibraltar</option>
												<option value="GRC">Greece</option>
												<option value="GRL">Greenland</option>
												<option value="GRD">Grenada</option>
												<option value="GLP">Guadeloupe</option>
												<option value="GUM">Guam</option>
												<option value="GTM">Guatemala</option>
												<option value="GGY">Guernsey</option>
												<option value="HMD">Heard & McDonald Islands</option>
												<option value="HND">Honduras</option>
												<option value="HKG">Hong Kong SAR China</option>
												<option value="HUN">Hungary</option>
												<option value="ISL">Iceland</option>
												<option value="IND">India</option>
												<option value="IDN">Indonesia</option>
												<option value="IRQ">Iraq</option>
												<option value="IRL">Ireland</option>
												<option value="IMN">Isle of Man</option>
												<option value="ITA">Italy</option>
												<option value="JAM">Jamaica</option>
												<option value="JPN">Japan</option>
												<option value="JEY">Jersey</option>
												<option value="JOR">Jordan</option>
												<option value="KAZ">Kazakhstan</option>
												<option value="KIR">Kiribati</option>
												<option value="XKS">Kosovo</option>
												<option value="KWT">Kuwait</option>
												<option value="KGZ">Kyrgyzstan</option>
												<option value="LVA">Latvia</option>
												<option value="LBN">Lebanon</option>
												<option value="LIE">Liechtenstein</option>
												<option value="LTU">Lithuania</option>
												<option value="LUX">Luxembourg</option>
												<option value="MAC">Macao SAR China</option>
												<option value="MYS">Malaysia</option>
												<option value="MDV">Maldives</option>
												<option value="MLT">Malta</option>
												<option value="MHL">Marshall Islands</option>
												<option value="MTQ">Martinique</option>
												<option value="MYT">Mayotte</option>
												<option value="MEX">Mexico</option>
												<option value="FSM">Micronesia</option>
												<option value="MDA">Moldova</option>
												<option value="MCO">Monaco</option>
												<option value="MNG">Mongolia</option>
												<option value="MNE">Montenegro</option>
												<option value="MSR">Montserrat</option>
												<option value="NRU">Nauru</option>
												<option value="NPL">Nepal</option>
												<option value="NLD">Netherlands</option>
												<option value="NCL">New Caledonia</option>
												<option value="NIC">Nicaragua</option>
												<option value="NIU">Niue</option>
												<option value="NFK">Norfolk Island</option>
												<option value="MKD">North Macedonia</option>
												<option value="MNP">Northern Mariana Islands</option>
												<option value="NOR">Norway</option>
												<option value="OMN">Oman</option>
												<option value="PLW">Palau</option>
												<option value="PAN">Panama</option>
												<option value="PNG">Papua New Guinea</option>
												<option value="PRY">Paraguay</option>
												<option value="PER">Peru</option>
												<option value="PHL">Philippines</option>
												<option value="PCN">Pitcairn Islands</option>
												<option value="POL">Poland</option>
												<option value="PRT">Portugal</option>
												<option value="QAT">Qatar</option>
												<option value="SMR">San Marino</option>
												<option value="SAU">Saudi Arabia</option>
												<option value="SRB">Serbia</option>
												<option value="SGP">Singapore</option>
												<option value="SXM">Sint Maarten</option>
												<option value="SVK">Slovakia</option>
												<option value="SVN">Slovenia</option>
												<option value="SLB">Solomon Islands</option>
												<option value="ZAF">South Africa</option>
												<option value="SGS">South Georgia & South Sandwich Islands</option>
												<option value="KOR">South Korea</option>
												<option value="ESP">Spain</option>
												<option value="LKA">Sri Lanka</option>
												<option value="BLM">St. Barthélemy</option>
												<option value="SHN">St. Helena</option>
												<option value="KNA">St. Kitts & Nevis</option>
												<option value="LCA">St. Lucia</option>
												<option value="MAF">St. Martin</option>
												<option value="SPM">St. Pierre & Miquelon</option>
												<option value="VCT">St. Vincent & Grenadines</option>
												<option value="SJM">Svalbard & Jan Mayen</option>
												<option value="SWE">Sweden</option>
												<option value="CHE">Switzerland</option>
												<option value="TWN">Taiwan, Province of China</option>
												<option value="TJK">Tajikistan</option>
												<option value="THA">Thailand</option>
												<option value="TON">Tonga</option>
												<option value="TUR">Turkey</option>
												<option value="TCA">Turks & Caicos Islands</option>
												<option value="UMI">U.S. Outlying Islands</option>
												<option value="VIR">U.S. Virgin Islands</option>
												<option value="UKR">Ukraine</option>
												<option value="ARE">United Arab Emirates</option>
												<option value="GBR">United Kingdom</option>
												<option value="USA">United States</option>
												<option value="URY">Uruguay</option>
												<option value="UZB">Uzbekistan</option>
												<option value="VAT">Vatican City</option>
												<option value="VEN">Venezuela</option>
												<option value="VNM">Vietnam</option>
												<option value="WLF">Wallis & Futuna</option>
												<option value="ESH">Western Sahara</option>
											</select>
										</span>
									</div>

									<div class="name-item">

										<span class="zf-flLeft zf-addtwo">
											<label>Street Address
												<em class="zf-important">*</em>
											</label>
											<input type="text" maxlength="255" name="Address_AddressLine1"
												checktype="c1" placeholder="Street Address" class="street"
												id="searchInput" oninput="searchDropdown()" />
											<div class="dropdown-list"></div>
										</span>
									</div>

									<div class="name-item-2">
										<span class="zf-flLeft zf-addtwo">
											<label>City
												<em class="zf-important">*</em>
											</label>
											<input type="text" class="Address_City city-text" name="Address_City"
												maxlength="255" placeholder="" autocomplete="off" />

										</span>

										<span class="zf-flLeft zf-addtwo">
											<label>State/Region/Province
												<em class="zf-important star">*</em>
											</label>
											<select class="state-dropdown" checktype="c1" placeholder="">
												<option value="" selected="selected" disabled>Select State</option>
											</select>
											<input type="text" class="Address_Region state-text" name="Address_Region"
												placeholder="Enter State">

											<!-- <input type="text" maxlength="255" name="Address_Region" checktype="c1"
													placeholder="" /> -->
										</span>
										<span style="display: none;">
											<label>State Label</label>
											<input type="text" name="SingleLine2" id="stateLabel" checktype="c1"
												value="" maxlength="255" fieldType=1 placeholder="" />
										</span>
										<span class="zf-flLeft zf-addtwo disabled">
											<label>Postal / Zip Code
												<em class="zf-important">*</em>
											</label>
											<input type="text" maxlength="255" placeholder="" name="Address_ZipCode"
												id="postalCode" class="Address_ZipCode zip-text" autocomplete="off" />
											<p id="Address_ZipCode_error" class="zf-errorMessage" style="display:none;">
												Invalid value</p>
										</span>
										<span class="zf-addOne">
											<label>County
												<em class="zf-important">*</em>
											</label>
											<input type="text" maxlength="255" name="SingleLine1" checktype="c1"
												placeholder="" class="county" id="county" autocomplete="off" />
											<p id="SingleLine1_error" class="zf-errorMessage" style="display:none;">
												Invalid value</p>
										</span>
									</div>

									<div class="name-item">

										<span class="zf-addOne">
											<label>Suite/Unit/Apt. Number
												<em class="zf-important">*</em>
											</label>
											<input type="text" maxlength="255" name="Address_AddressLine2"
												checktype="c1" placeholder="" autocomplete="off" />
											<p id="Address_AddressLine2_error" class="zf-errorMessage"
												style="display:none;">
												Invalid value</p>
										</span>
									</div>

									<div class="zf-clearBoth"></div>
									<p id="Address_error" class="zf-errorMessage" style="display:none;">Some of the
										mandatory field is empty
									</p>
								</div>
							</div>
							<div class="zf-eclearBoth"></div>
						</li><!---------Address Ends Here---------->

						<!---------Licence Starts Here---------->
						<li class="zf-tempFrmWrapper zf-large">
							<label class="zf-labelName">Licence</label>
							<div class="zf-tempContDiv">
								<span class="zf-addOne">
									<input type="file" maxlength="255" name="FileUpload" />
								</span>
								<p id="FileUpload_error" class="zf-errorMessage" style="display:none;">Choose any file
									for this field.</p>
							</div>
							<div class="zf-clearBoth"></div>
						</li><!---------Licence Ends Here---------->
					</ul>
				</div><!---------template Container Starts Here---------->
				<ul>
					<li class="zf-fmFooter"><button class="zf-submitColor">Submit</button>
					</li>
				</ul>

			</div><!-- 'zf-templateWrapper' ends -->
		</form>
	</div><!-- 'zf-templateWidth' ends -->
	<script type="text/javascript">var zf_DateRegex = new RegExp("^(([0][1-9])|([1-2][0-9])|([3][0-1]))[-](Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec|JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)[-](?:(?:19|20)[0-9]{2})$");
		// var zf_MandArray = ["Address_AddressLine1", "Address_City", "Address_Region", "Address_ZipCode", "Address_Country"];
		var zf_FieldArray = ["Email", "Address_AddressLine1", "Address_AddressLine2", "Address_City", "Address_Region", "Address_ZipCode", "Address_Country", "SingleLine1"]; // , "PhoneNumber_countrycode", "FileUpload"	
		var zf_MandArray = ["Address_AddressLine1", "Address_City", "Address_ZipCode", "Address_Country", "Address_Region"];
		var isSalesIQIntegrationEnabled = false;
		var salesIQFieldsArray = [];
	</script>
	<script src="js/states.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	<script>
		const dropdownList = $(".dropdown-list");
		const addressInfo = $(".addressInfo");

		function fetchData(query, callback) {
			$.get(query, callback);
		}
		// Function to handle the search input
		function searchDropdown() {

			var country = $(".dropdown-countries").find(":selected").text();
			var country_val = $(".zf-form-sBox").find(":selected").val();
			if (country_val == "USA") {
				var city = $(".Address_City").val();
				var zipCode = $(".Address_ZipCode").val();
				var inputLength = $("#searchInput").val().length;
				if (inputLength > 0) {
					const query = `https://api.addressy.com/Capture/Interactive/Find/v1.10/json3.ws?Key=TY78-BD75-NW81-XE97&Countries=US&Limit=20&Text=${$(
						"#searchInput"
					).val()}`;

					// Call the API to get data based on the search query
					fetchData(query, (data) => {
						const filteredOptions = data.Items;
						dropdownList.empty();
						filteredOptions.forEach((option) => {
							if (option.Type === "Container" || option.Type === "Street" || option.Type === "Locality" || option.Type === "BuildingNumber") {
								dropdownList.append(
									`<div class="dropdown-item"> ${option.Text} <span id="${option.Id}" onclick="callback(event, this);">see all ${option.Description}</span></div>`
								);
							} else {
								dropdownList.append(
									`<div class="dropdown-item" id="${option.Id}" onclick="getAddressDetail(event, this);"> ${option.Text}</div>`
								);
							}
						});
					});
				} else {
					dropdownList.empty();
				}
			} else {
				dropdownList.empty();
			}
		}
		function callback(e, thisObj) {
			let id = thisObj.id;
			const query = `https://api.addressy.com/Capture/Interactive/Find/v1.10/json3.ws?Key=TY78-BD75-NW81-XE97&Countries=US&Limit=20&Container=${id}`;
			fetchData(query, (data) => {
				const filteredOptions = data.Items;
				dropdownList.empty();
				dropdownList.css({ "max-height": "300px", "overflow-y": "auto" });

				filteredOptions.forEach((option) => {
					if (option.Type === "Container") {
						dropdownList.append(
							`<div class="dropdown-item"> ${option.Text} <span id="${option.Id}" onclick="callback(event, this);">see all ${option.Description}</span></div>`
						);
					} else if (option.Type === "Street") {
						dropdownList.append(
							`<div class="dropdown-item" id="Street, ${option.Text}" onclick="getAddressDetail(event, this);"> ${option.Text}  <span id="${option.Id}" onclick="callback(event, this);">see all ${option.Description}</span></div></div>`
						);
					} else if (option.Type === "Locality") {
						dropdownList.append(
							`<div class="dropdown-item" id="Locality, ${option.Text}" onclick="getAddressDetail(event, this);"> ${option.Text}  <span id="${option.Id}" onclick="callback(event, this);">see all ${option.Description}</span></div></div>`
						);
					} else if (option.Type === "BuildingNumber") {
						dropdownList.append(
							`<div class="dropdown-item" id="BuildingNumber, ${option.Text}" onclick="getAddressDetail(event, this);"> ${option.Text}  <span id="${option.Id}" onclick="callback(event, this);">see all ${option.Description}</span></div></div>`
						);
					} else {
						dropdownList.append(
							`<div class="dropdown-item" id="${option.Id}" onclick="getAddressDetail(event, this);"> ${option.Text} </div>`
						);
					}
				});
			});
		}
		function getAddressDetail(e, thisObj) {
			let id = thisObj.id;
			const query = `https://api.addressy.com/Capture/Interactive/Retrieve/v1.2/json3.ws?Key=TY78-BD75-NW81-XE97&Id=${id}`;
			fetchData(query, (data) => {
				const filteredOptions = data.Items;
				filteredOptions.forEach((option) => {
					$(".street").val(option.Line1)
					$(".city-text").val(option.City)
					$("#stateLabel").val(option.ProvinceName)
					$(".state-dropdown").val(option.ProvinceCode).change();
					$("#postalCode").val(option.PostalCode)
					$("#county").val(option.AdminAreaName)
					dropdownList.empty();
				});
			});
		}

		var iti = window.intlTelInput(document.querySelector("#international_PhoneNumber_countrycode"), {
			separateDialCode: false,
			preferredCountries: ["US"],
			allowDropdown: true,
			hiddenInput: "full",
			utilsScript: "//cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/utils.js"
		});

		document.addEventListener("keydown", function (event) {
			if (event.key === "Enter") {
				event.preventDefault(); // Prevent form from being submitted through enter key
				zf_ValidateAndSubmit();
			}
		});
	</script>

	<script>
		window.addEventListener('message', function (event) {
			var email = event.data;
			document.getElementById('Email').value = email;
			document.getElementById("Email").readOnly = true;
			let checkField = setInterval(function () {
				if ($('#Email').val() !== '') {
					$('#loader').hide();
					clearInterval(checkField);
				}
			}, 100);
			$('#loader').hide();
		});
	</script>
</body>

</html>